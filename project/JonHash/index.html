<!DOCTYPE html> <html lang=en> <head> <title>Jonathan Marsh</title> <meta charset=utf-8> <meta content="Jonathan Marsh" name=author> <meta content="All about Jonathan Marsh" name=description> <meta content="Software Engineer,Computer Scientist,portfolio,games,devtools" name=keywords> <meta content=english name=language> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#edf1f5 name=theme-color> <base href=/ > <link href=favicon.ico rel=icon type=image/png> <link href=images/favicon/apple-touch-icon.png rel=apple-touch-icon sizes=180x180> <link href=images/favicon/favicon-32x32.png rel=icon sizes=32x32 type=image/png> <link href=images/favicon/favicon-16x16.png rel=icon sizes=16x16 type=image/png> <link href=site.webmanifest rel=manifest crossorigin=use-credentials> <style>html{font-family:'Open Sans',sans-serif;font-size:18px}body{background:url(images/lines.png),#edf1f5;color:#222}#sapper{position:absolute;top:5rem;left:2rem;bottom:2rem;right:2rem}</style> <link href=client/main.2517266922.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Jonathan Marsh - Project - Jon Hash</title><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-7a56kt><input checked class=svelte-7a56kt id=menutoggle name=menutoggle type=checkbox> <a href=. class=svelte-7a56kt id=JonMarsh>JonMarsh</a> <label class=svelte-7a56kt for=menutoggle><img alt="open navigation menu (hamburger icon emoji)" class=svelte-7a56kt src=images/openmoji/E250.svg> <img alt="close navigation menu (close icon emoji)" class=svelte-7a56kt src=images/openmoji/E24E.svg></label> <span class=svelte-7a56kt><div class=svelte-7a56kt><a href=. class=svelte-7a56kt>Home</a></div> <div class=svelte-7a56kt><a href=project/ class=svelte-7a56kt aria-current=page rel=prefetch>Projects</a></div></span> <span class=svelte-7a56kt><div class=svelte-7a56kt><a href=sitemap/ class=svelte-7a56kt>Site Map</a></div> <div class=svelte-7a56kt><a href=policies/ class=svelte-7a56kt>Policies</a></div></span></nav> <main class=svelte-s8c1vq> <h1>Jon Hash</h1> <h2>Tags</h2> <div class=tags><a href=tag/c rel=prefetch title="View everything tagged 'C'"><div class="svelte-1qnaxs1 tag">C</div></a><a href=tag/cpp rel=prefetch title="View everything tagged 'C++'"><div class="svelte-1qnaxs1 tag">C++</div></a><a href=tag/coursework rel=prefetch title="View everything tagged 'Coursework'"><div class="svelte-1qnaxs1 tag">Coursework</div></a></div> <h3>About</h3> <div class=content><style>#JonHashDocs{font-size:1rem;color:#000;font-family:monospace,monospace;font-size:1rem;margin:1rem;width:min-content}#JonHashDocs h1,#JonHashDocs h2,#JonHashDocs h3,#JonHashDocs p,#JonHashDocs span{margin:0;font-weight:400}#JonHashDocs h1{font-size:1.1rem;white-space:nowrap;margin-bottom:.4rem}#JonHashDocs h2{font-size:.9rem}#JonHashDocs h3{font-size:.8rem}#JonHashDocs h1:not(:first-child)::before{border-top:1px solid #e0e0e0;box-sizing:border-box;content:" ";display:block;height:1px;margin-top:1rem;padding-top:1rem;width:100%}#JonHashDocs span{font-weight:700}#JonHashDocs .definition{white-space:pre;line-height:1rem;font-weight:400;font-weight:700}</style> <div id=JonHashDocs> <h1>Definitions</h1> <p>This demonstration uses the following definitions:</p> <p class=definition><b>CHAR_BIT</b> 8</p> <p class=definition><b>COST</b> 10</p> <p class=definition><b>BASE64</b> "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-"</p> <p class=definition><b>BLOCK_SIZE</b> 4</p> <p class=definition><b>H0</b> "JONM"</p> <h3>(The password is "PASSWORD")</h3> <h1>Salt</h1> <h2> A string of <b>BLOCK_SIZE</b> characters randomly selected from <b>BASE64</b> using a <a href=https://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator>CSPRNG</a> </h2> <style>#salt{display:inline-block;position:relative}#salt span{display:inline-block;font-size:2rem;height:2rem;line-height:2rem;width:1ch;position:relative;overflow:hidden}#salt span::before{content:"SHNFqfwEOgPbG71KAC+sD9nYv4VhrRLTxmtjaQcM0uU6Jody3BZ5iWk-8l2zpeXIS";word-break:break-all;display:inline-block;position:absolute;animation:saltRandom 5s linear infinite}#salt span:nth-child(2):before{content:"AGF-cyTuEodrgUW523J9eR1LvB+PzmYlbHQhZijCpIw6NSftsDk074aOnX8xqKVMA";animation-delay:1s}#salt span:nth-child(3):before{content:"L40kPdDOj2SoyZ9VwcU8T65MuzFHnJxhl3+vCtQ-srgERAaBXqmb7fINp1YGeiWKL";animation-delay:2s}#salt span:nth-child(4):before{content:"TglDib7OSKkPuWc5JtnGVzaxqMdrsUE-1o0jvZFINQ8pRALY4+y3heXf6HCm9wB2T";animation-delay:3s}@keyframes saltRandom{0%,20%{top:0}to{top:-6300%}}</style> <div id=salt><span></span><span></span><span></span><span></span></div> <h3> For simplicity, this demonstration uses "SALT" </h3> <h1>Weave</h1> <style>#weave{position:relative;width:20rem;overflow:hidden;white-space:nowrap;height:2rem}#weave p{position:absolute;left:100%;letter-spacing:1ch;white-space:pre}#weave p:nth-child(1){top:0;animation:weaveSalt 4s linear infinite}#weave p:nth-child(2){top:1rem;animation:weavePassword 4s linear infinite}@keyframes weaveSalt{35%{top:0}100%,60%{left:0;top:.5rem}}@keyframes weavePassword{40%{top:1rem}100%,60%{left:0;top:.5rem}}#weave p:nth-child(2) span{animation:weaveCompress 4s linear infinite;margin-left:0;letter-spacing:1ch}@keyframes weaveCompress{70%{margin-left:0;letter-spacing:1ch}100%,80%{letter-spacing:0;margin-left:-1ch}}</style> <h2> Generates the string to hash by alternating between <b>password</b> and <b>salt</b> </h2> <div id=weave> <p>S A L T </p> <p> P A S S<span> W O R D</span></p> </div> <h1>Block</h1> <style>#block{width:36ch;height:5rem}#block::before{content:" ";animation:binary 5s linear infinite}@keyframes binary{0%,10%{content:"S P A A L S T S E W D O R D";word-spacing:-1ch}50%{color:#000;word-spacing:7ch}70%{color:#fff;content:"S P A A L S T S E W D O R D";word-spacing:7ch}71%{color:#fff;content:"01010011 01010000 01000001 01000001  01001100 01010011 01010100 01010011  01000101 01010111 01000100 01001111  01010010 01000100";word-spacing:inherit}80%{content:"01010011 01010000 01000001 01000001  01001100 01010011 01010100 01010011  01000101 01010111 01000100 01001111  01010010 01000100";color:#000;word-spacing:inherit}100%,90%{content:"01010011 01010000 01000001 01000001  01001100 01010011 01010100 01010011  01000101 01010111 01000100 01001111  01010010 01000100";color:#000;word-spacing:-1ch}}</style> <h2>Divides the <b>weave</b> into <b>BLOCK_SIZE</b> chunks</h2> <p id=block></p> <h3>(This is just a visual aid; there are no base conversions)</h3> <h2>Each block uses the previous block's hash, starting with <b>H0</b></h2> <h1>Shift</h1> <style>#shiftcharacters{position:relative;height:2rem}#shiftcharacters span{position:absolute;top:1rem;left:0;animation:shift1 5s linear infinite}@keyframes shift1{0%{top:1rem}10%{top:0;left:0}50%{top:0;left:18ch}100%,60%{top:1rem;left:18ch}}#shiftcharacters span:nth-child(2){left:9ch;animation:shift2 5s linear infinite}@keyframes shift2{0%{top:1rem}10%{top:0;left:9ch}50%{top:0;left:27ch}100%,60%{top:1rem;left:27ch}}#shiftcharacters span:nth-child(3){left:18ch;animation:shift3 5s linear infinite}@keyframes shift3{0%,10%{top:1rem;left:18ch}100%,50%{top:1rem;left:0}}#shiftcharacters span:nth-child(4){left:27ch;animation:shift4 5s linear infinite}@keyframes shift4{0%,10%{top:1rem;left:27ch}100%,50%{top:1rem;left:9ch}}</style> <h2> <b>shift</b>: the number of 1s in the concatenated binary value of the <b>block</b> </h2> <h2> <b>charshift = shift/CHAR_BIT</b>: the number of characters to offset by </h2> <h2> <b>bitshift = shift - charshift*CHAR_BIT</b>: the number of times to left-shift by </h2> <p id=shiftcharacters> <span>01010011</span> <span>01010000</span> <span>01000001</span> <span>01000001</span> </p> <style>#XOR p{white-space:pre}</style> <h1>XOR</h1> <h2>Used as a compression/sponging function</h2> <h2> The previous hash (H0 in the first iteration) is XORed with the shifted block </h2> <div id=XOR> <p> 010101010101011010101</p> <p><u>^011101010101110101011</u></p> <p> 001000000000101111110</p> </div> </div> </div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,(function(a,b){return {project:{caption:a,date:"2018-05-02",description:"One part of a module from second year at university was to design my own hashing algorithm. I am in the process of converting it to C from C++.",links:{readMore:{type:"html-url",url:"https:\u002F\u002Fraw.githubusercontent.com\u002Fj-m\u002Fjonhash\u002Fmaster\u002Fdocs\u002Fdemo.html"},github:"https:\u002F\u002Fgithub.com\u002Fj-m\u002Fjonhash"},logo:a,preview:".\u002Fimages\u002Fpreviews\u002Fjonhash.gif",title:"Jon Hash",html:"\u003Cstyle\u003E\n  #JonHashDocs {\n    font-size: 1rem;\n    color: black;\n    font-family: monospace, monospace;\n    font-size: 1rem;\n    margin: 1rem;\n    width: min-content;\n  }\n\n  #JonHashDocs h1,\n  #JonHashDocs h2,\n  #JonHashDocs h3,\n  #JonHashDocs p,\n  #JonHashDocs span {\n    margin: 0;\n    font-weight: normal;\n  }\n\n  #JonHashDocs h1 {\n    font-size: 1.1rem;\n    white-space: nowrap;\n    margin-bottom: 0.4rem;\n  }\n\n  #JonHashDocs h2 {\n    font-size: 0.9rem;\n  }\n\n  #JonHashDocs h3 {\n    font-size: 0.8rem;\n  }\n\n  #JonHashDocs h1:not(:first-child)::before {\n    border-top: 1px solid rgb(224, 224, 224);\n    box-sizing: border-box;\n    content: \" \";\n    display: block;\n    height: 1px;\n    margin-top: 1rem;\n    padding-top: 1rem;\n    width: 100%;\n  }\n\n  #JonHashDocs span {\n    font-weight: bold;\n  }\n\n  #JonHashDocs .definition {\n    white-space: pre;\n    line-height: 1rem;\n    font-weight: normal;\n    font-weight: bold;\n  }\n\u003C\u002Fstyle\u003E\n\u003Cdiv id=\"JonHashDocs\"\u003E\n  \u003Ch1\u003EDefinitions\u003C\u002Fh1\u003E\n  \u003Cp\u003EThis demonstration uses the following definitions:\u003C\u002Fp\u003E\n  \u003Cp class=\"definition\"\u003E\u003Cb\u003ECHAR_BIT\u003C\u002Fb\u003E     8\u003C\u002Fp\u003E\n  \u003Cp class=\"definition\"\u003E\u003Cb\u003ECOST\u003C\u002Fb\u003E         10\u003C\u002Fp\u003E\n  \u003Cp class=\"definition\"\u003E\u003Cb\u003EBASE64\u003C\u002Fb\u003E      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-\"\u003C\u002Fp\u003E\n  \u003Cp class=\"definition\"\u003E\u003Cb\u003EBLOCK_SIZE\u003C\u002Fb\u003E   4\u003C\u002Fp\u003E\n  \u003Cp class=\"definition\"\u003E\u003Cb\u003EH0\u003C\u002Fb\u003E          \"JONM\"\u003C\u002Fp\u003E\n  \u003Ch3\u003E(The password is \"PASSWORD\")\u003C\u002Fh3\u003E\n\n  \u003Ch1\u003ESalt\u003C\u002Fh1\u003E\n  \u003Ch2\u003E\n    A string of \u003Cb\u003EBLOCK_SIZE\u003C\u002Fb\u003E characters randomly selected from\n    \u003Cb\u003EBASE64\u003C\u002Fb\u003E using a \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCryptographically_secure_pseudorandom_number_generator\"\u003ECSPRNG\u003C\u002Fa\u003E\n  \u003C\u002Fh2\u003E\n  \u003Cstyle\u003E\n    #salt {\n      display: inline-block;\n      position: relative;\n    }\n\n    #salt span {\n      display: inline-block;\n      font-size: 2rem;\n      height: 2rem;\n      line-height: 2rem;\n      width: 1ch;\n      position: relative;\n      overflow: hidden;\n    }\n\n    #salt span::before {\n      content: \"SHNFqfwEOgPbG71KAC+sD9nYv4VhrRLTxmtjaQcM0uU6Jody3BZ5iWk-8l2zpeXIS\";\n      word-break: break-all;\n      display: inline-block;\n      position: absolute;\n      animation: saltRandom 5s linear infinite;\n    }\n\n    #salt span:nth-child(2):before {\n      content: \"AGF-cyTuEodrgUW523J9eR1LvB+PzmYlbHQhZijCpIw6NSftsDk074aOnX8xqKVMA\";\n      animation-delay: 1s;\n    }\n    #salt span:nth-child(3):before {\n      content: \"L40kPdDOj2SoyZ9VwcU8T65MuzFHnJxhl3+vCtQ-srgERAaBXqmb7fINp1YGeiWKL\";\n      animation-delay: 2s;\n    }\n    #salt span:nth-child(4):before {\n      content: \"TglDib7OSKkPuWc5JtnGVzaxqMdrsUE-1o0jvZFINQ8pRALY4+y3heXf6HCm9wB2T\";\n      animation-delay: 3s;\n    }\n\n    @keyframes saltRandom {\n      0%,\n      20% {\n        top: 0;\n      }\n      to {\n        top: -6300%;\n      }\n    }\n  \u003C\u002Fstyle\u003E\n  \u003Cdiv id=\"salt\"\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003Cspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\n  \u003Ch3\u003E\n    For simplicity, this demonstration uses \"SALT\"\n  \u003C\u002Fh3\u003E\n\n  \u003Ch1\u003EWeave\u003C\u002Fh1\u003E\n  \u003Cstyle\u003E\n    #weave {\n      position: relative;\n      width: 20rem;\n      overflow: hidden;\n      white-space: nowrap;\n      height: 2rem;\n    }\n\n    #weave p {\n      position: absolute;\n      left: 100%;\n\n      letter-spacing: 1ch;\n      white-space: pre;\n    }\n\n    #weave p:nth-child(1) {\n      top: 0;\n      animation: weaveSalt 4s linear infinite;\n    }\n\n    #weave p:nth-child(2) {\n      top: 1rem;\n      animation: weavePassword 4s linear infinite;\n    }\n\n    @keyframes weaveSalt {\n      35% {\n        top: 0;\n      }\n      60%,\n      100% {\n        left: 0;\n        top: 0.5rem;\n      }\n    }\n\n    @keyframes weavePassword {\n      40% {\n        top: 1rem;\n      }\n      60%,\n      100% {\n        left: 0;\n        top: 0.5rem;\n      }\n    }\n\n    #weave p:nth-child(2) span {\n      animation: weaveCompress 4s linear infinite;\n      margin-left: 0;\n      letter-spacing: 1ch;\n    }\n\n    @keyframes weaveCompress {\n      70% {\n        margin-left: 0;\n        letter-spacing: 1ch;\n      }\n      80%,\n      100% {\n        letter-spacing: 0ch;\n        margin-left: -1ch;\n      }\n    }\n  \u003C\u002Fstyle\u003E\n  \u003Ch2\u003E\n    Generates the string to hash by alternating between \u003Cb\u003Epassword\u003C\u002Fb\u003E and\n    \u003Cb\u003Esalt\u003C\u002Fb\u003E\n  \u003C\u002Fh2\u003E\n  \u003Cdiv id=\"weave\"\u003E\n    \u003Cp\u003ES A L T \u003C\u002Fp\u003E\n    \u003Cp\u003E P A S S\u003Cspan\u003E W O R D\u003C\u002Fspan\u003E\u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\n  \u003Ch1\u003EBlock\u003C\u002Fh1\u003E\n  \u003Cstyle\u003E\n    #block {\n      width: 36ch;\n      height: 5rem;\n    }\n\n    #block::before {\n      content: \" \";\n      animation: binary 5s linear infinite;\n    }\n\n    @keyframes binary {\n      0%,\n      10% {\n        content: \"S P A A L S T S E W D O R D\";\n        word-spacing: -1ch;\n      }\n\n      50% {\n        color: black;\n        word-spacing: 7ch;\n      }\n\n      70% {\n        color: white;\n        content: \"S P A A L S T S E W D O R D\";\n        word-spacing: 7ch;\n      }\n\n      71% {\n        color: white;\n        content: \"01010011 01010000 01000001 01000001  01001100 01010011 01010100 01010011  01000101 01010111 01000100 01001111  01010010 01000100\";\n        word-spacing: inherit;\n      }\n\n      80% {\n        content: \"01010011 01010000 01000001 01000001  01001100 01010011 01010100 01010011  01000101 01010111 01000100 01001111  01010010 01000100\";\n        color: black;\n        word-spacing: inherit;\n      }\n\n      90%,\n      100% {\n        content: \"01010011 01010000 01000001 01000001  01001100 01010011 01010100 01010011  01000101 01010111 01000100 01001111  01010010 01000100\";\n        color: black;\n        word-spacing: -1ch;\n      }\n    }\n  \u003C\u002Fstyle\u003E\n  \u003Ch2\u003EDivides the \u003Cb\u003Eweave\u003C\u002Fb\u003E into \u003Cb\u003EBLOCK_SIZE\u003C\u002Fb\u003E chunks\u003C\u002Fh2\u003E\n  \u003Cp id=\"block\"\u003E\u003C\u002Fp\u003E\n  \u003Ch3\u003E(This is just a visual aid; there are no base conversions)\u003C\u002Fh3\u003E\n  \u003Ch2\u003EEach block uses the previous block's hash, starting with \u003Cb\u003EH0\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\n\n  \u003Ch1\u003EShift\u003C\u002Fh1\u003E\n  \u003Cstyle\u003E\n    #shiftcharacters {\n      position: relative;\n      height: 2rem;\n    }\n    #shiftcharacters span {\n      position: absolute;\n      top: 1rem;\n      left: 0;\n      animation: shift1 5s linear infinite;\n    }\n    @keyframes shift1 {\n      0% {\n        top: 1rem;\n      }\n      10% {\n        top: 0;\n        left: 0;\n      }\n      50% {\n        top: 0;\n        left: 18ch;\n      }\n      60%,\n      100% {\n        top: 1rem;\n        left: 18ch;\n      }\n    }\n    #shiftcharacters span:nth-child(2) {\n      left: 9ch;\n      animation: shift2 5s linear infinite;\n    }\n    @keyframes shift2 {\n      0% {\n        top: 1rem;\n      }\n      10% {\n        top: 0;\n        left: 9ch;\n      }\n      50% {\n        top: 0;\n        left: 27ch;\n      }\n      60%,\n      100% {\n        top: 1rem;\n        left: 27ch;\n      }\n    }\n    #shiftcharacters span:nth-child(3) {\n      left: 18ch;\n      animation: shift3 5s linear infinite;\n    }\n    @keyframes shift3 {\n      0%,\n      10% {\n        top: 1rem;\n        left: 18ch;\n      }\n      50%,\n      100% {\n        top: 1rem;\n        left: 0;\n      }\n    }\n    #shiftcharacters span:nth-child(4) {\n      left: 27ch;\n      animation: shift4 5s linear infinite;\n    }\n    @keyframes shift4 {\n      0%,\n      10% {\n        top: 1rem;\n        left: 27ch;\n      }\n      50%,\n      100% {\n        top: 1rem;\n        left: 9ch;\n      }\n    }\n  \u003C\u002Fstyle\u003E\n  \u003Ch2\u003E\n    \u003Cb\u003Eshift\u003C\u002Fb\u003E: the number of 1s in the concatenated binary value of the\n    \u003Cb\u003Eblock\u003C\u002Fb\u003E\n  \u003C\u002Fh2\u003E\n  \u003Ch2\u003E\n    \u003Cb\u003Echarshift = shift\u002FCHAR_BIT\u003C\u002Fb\u003E: the number of characters to offset by\n  \u003C\u002Fh2\u003E\n  \u003Ch2\u003E\n    \u003Cb\u003Ebitshift = shift - charshift*CHAR_BIT\u003C\u002Fb\u003E: the number of times to\n    left-shift by\n  \u003C\u002Fh2\u003E\n  \u003Cp id=\"shiftcharacters\"\u003E\n    \u003Cspan\u003E01010011\u003C\u002Fspan\u003E \u003Cspan\u003E01010000\u003C\u002Fspan\u003E \u003Cspan\u003E01000001\u003C\u002Fspan\u003E\n    \u003Cspan\u003E01000001\u003C\u002Fspan\u003E\n  \u003C\u002Fp\u003E\n\n  \u003Cstyle\u003E\n    #XOR p {\n      white-space: pre;\n    }\n  \u003C\u002Fstyle\u003E\n  \u003Ch1\u003EXOR\u003C\u002Fh1\u003E\n  \u003Ch2\u003EUsed as a compression\u002Fsponging function\u003C\u002Fh2\u003E\n  \u003Ch2\u003E\n    The previous hash (H0 in the first iteration) is XORed with the shifted\n    block\n  \u003C\u002Fh2\u003E\n  \u003Cdiv id=\"XOR\"\u003E\n    \u003Cp\u003E 010101010101011010101\u003C\u002Fp\u003E\n    \u003Cp\u003E\u003Cu\u003E^011101010101110101011\u003C\u002Fu\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003E 001000000000101111110\u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\n\u003C\u002Fdiv\u003E\n\n"},tags:{c:{parent:b,data:{title:"C"}},cpp:{parent:b,data:{title:"C++"}},coursework:{data:{title:"Coursework",description:"All work relating to coursework from university, sixth form, or otherwise."}}}}}("","language"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.2896826e.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.2896826e.js")}document.head.appendChild(s)</script> 